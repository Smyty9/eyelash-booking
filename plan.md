# PROJECT DESCRIPTION: Eyelash Booking System (RU-Hosted)

## 1. Обзор проекта
Веб-приложение для мастера по наращиванию ресниц. Система представляет собой SPA (Single Page Application) с публичной частью для клиентов и закрытой админ-панелью для мастера.
Ключевое требование: Полное соответствие законодательству РФ (хранение данных на сервере в РФ), отсутствие облачных зависимостей (Vendor Lock-in).

## 2. Целевая аудитория
- Клиенты: Девушки 20-45 лет. Использование преимущественно с мобильных устройств (Mobile First Design).
- Мастер: Администратор системы, управляет расписанием и записями.

## 3. Технический стек (Russian Compliance Stack)
- **Frontend & Backend:** Next.js 15 (App Router)
- **Language:** TypeScript
- **Styling:** Tailwind CSS + Shadcn/UI (компоненты)
- **Database:** PostgreSQL
- **ORM:** Prisma ORM
- **Auth:** NextAuth.js (v5) - стратегия 'Credentials' (без внешних провайдеров)
- **Deployment:** Docker + Docker Compose (для деплоя на VPS Beget/Timeweb)
- **State Management:** Zustand (если потребуется сложный стейт) или React Server Components.

## 4. Структура Базы Данных (Основные сущности)
1. **User**: (id, phone, name, role [ADMIN, CLIENT], createdAt)
2. **Service**: (id, name, description, price, duration_minutes, isActive)
3. **Appointment**: (id, date, status [PENDING, CONFIRMED, CANCELED], userId, serviceId)
4. **Schedule/Availability**: (Правила рабочего времени мастера)

## 5. Функционал MVP
### Публичная зона (Клиент):
- Просмотр каталога услуг с ценами и фото.
- Выбор услуги -> Выбор даты/времени (проверка занятости) -> Ввод контактов -> Подтверждение.
- Просмотр "Моих записей" (по номеру телефона или простой авторизации).

### Админ-панель (Мастер):
- Дэшборд с расписанием на день/неделю.
- Управление услугами (CRUD: создать, изменить цену, скрыть).
- Управление записями (Отменить, Перенести, Отметить как выполненное).
- Блокировка времени (отпуск/выходной).

## 6. Дизайн и UX
- Минимализм, пастельные тона, эстетика beauty-индустрии.
- Крупные кнопки для удобства нажатия на смартфоне.
- Максимально простая форма записи (не более 3 шагов).

## 7. Особые требования
- Никаких сторонних сервисов для БД (Firebase/Supabase Cloud запрещены).
- Все даты хранить в UTC, отображать в часовом поясе мастера (Europe/Moscow).

## 8. Структура проекта

```
/
├── app/                    # App Router директория
│   ├── (public)/          # Публичная часть (группа роутов)
│   │   ├── layout.tsx
│   │   ├── page.tsx       # Главная страница
│   │   └── services/      # Каталог услуг
│   ├── (admin)/           # Админ-панель (группа роутов)
│   │   ├── layout.tsx
│   │   ├── dashboard/     # Дэшборд
│   │   ├── services/      # Управление услугами
│   │   └── appointments/  # Управление записями
│   ├── api/               # API routes
│   │   └── auth/          # NextAuth.js handlers
│   ├── globals.css        # Глобальные стили Tailwind
│   └── layout.tsx         # Root layout
├── components/            # React компоненты
│   ├── ui/               # Shadcn/UI компоненты
│   └── shared/           # Общие компоненты
├── lib/                  # Утилиты и хелперы
│   ├── prisma.ts         # Prisma Client instance
│   └── utils.ts          # Общие утилиты
├── prisma/               # Prisma схема и миграции
│   └── schema.prisma     # Схема БД
├── public/               # Статические файлы
├── .env.example          # Пример переменных окружения
├── .gitignore
├── docker-compose.yml    # PostgreSQL контейнер
├── next.config.ts        # Next.js конфигурация
├── package.json          # Зависимости и скрипты
├── tailwind.config.ts    # Tailwind CSS конфигурация
├── tsconfig.json         # TypeScript конфигурация
└── components.json       # Shadcn/UI конфигурация
```

## 9. Этапы разработки

Проект реализуется маленькими шагами. Каждый этап должен быть завершен и протестирован перед переходом к следующему.

### Этап 1: Базовая структура и конфигурация ✅
- [x] Структура папок
- [x] package.json с зависимостями
- [x] docker-compose.yml для PostgreSQL
- [x] Prisma schema с базовыми моделями
- [x] Конфигурационные файлы (TypeScript, Tailwind, Next.js)
- [x] NextAuth.js v5 базовая настройка
- [x] .env.example и .gitignore

### Этап 2: (Следующий этап)
- [ ] Настройка Prisma и подключение к БД
- [ ] Первая миграция
- [ ] Базовый layout и глобальные стили

### Этап 3: (Будущие этапы)
- [ ] Публичная часть: главная страница
- [ ] Каталог услуг
- [ ] Форма записи
- [ ] Админ-панель: авторизация
- [ ] Админ-панель: дэшборд
- [ ] Управление услугами
- [ ] Управление записями
- [ ] Расписание и доступность

## 10. Технические детали

### База данных
- PostgreSQL 15
- Все даты в UTC
- Часовой пояс для отображения: Europe/Moscow

### Аутентификация
- NextAuth.js v5
- Credentials provider (без внешних провайдеров)
- Роли: ADMIN, CLIENT

### Стилизация
- Tailwind CSS
- Shadcn/UI компоненты
- Mobile-first подход
- Пастельная цветовая палитра

### Деплой
- Docker Compose для локальной разработки
- VPS (Beget/Timeweb) для продакшена
- Все данные хранятся на сервере в РФ

